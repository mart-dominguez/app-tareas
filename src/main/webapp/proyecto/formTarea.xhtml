<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:form id="formAltaTarea">
            <p:growl id="growl" showDetail="true" sticky="true" />  
        <div class="form-group">
            <label for="usrAsignado">Asignar a</label>
            <h:selectOneMenu class="form-control" id="usrAsignado" disabled="#{empty tareaCtrl.tarea}" value="#{tareaCtrl.tarea.usuario}" style="width:150px" converter="usrConverter" >
                <f:selectItems var="unUsr" value="#{userController.usuarios}" itemValue="#{unUsr}"  itemLabel="#{unUsr.mail}" ></f:selectItems>
            </h:selectOneMenu>        
        </div>
        <div class="form-group">
            <label for="hsTarea">Horas</label>
            <p:inputNumber class="form-control" id="hsTarea" pt:aria-describedby="horasHelp" 
                           value="#{tareaCtrl.tarea.duracionHoras}"  disabled="#{empty tareaCtrl.tarea}" >
                <small id="horasHelp" class="form-text text-muted">Horas asignadas al proyecto.</small>
            </p:inputNumber>
        </div>
        <div class="form-group">
            <label for="titTarea">Tarea</label>
            <p:inputText class="form-control" id="titTarea" 
                         value="#{tareaCtrl.tarea.titulo}"  disabled="#{empty tareaCtrl.tarea}"></p:inputText>
        </div>
        <div class="form-group">
            <label for="descripTarea">Descripcion</label>
            <p:textEditor widgetVar="editor1" value="#{tareaCtrl.tarea.descripcion}" 
                          class="form-control" id="descripTarea" 
                          height="300" style="margin-bottom:10px"/>
        </div>
            <p:commandButton class="btn btn-light" value="Agregar" disabled="#{empty tareaCtrl.tarea}" actionListener="#{tareaCtrl.asignar}" ></p:commandButton>
            <p:commandButton class="btn btn-light" value="Cancelar" disabled="#{empty tareaCtrl.tarea}"></p:commandButton>
    </h:form>
</html>

